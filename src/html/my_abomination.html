<!DOCTYPE html>
<html lang="ru">

    <body class="body">
        <header class="page-header">
            <link rel="stylesheet" href="styles/styles.min.css">
            <div class="page-header__container">
                <nav class="page-header__nav">
                    <a href="feed.html" class="page-header__nav-link feed">Feed</a>
                    <a href="index.html" class="page-header__nav-link exit">Выйти</a> 
                </nav>
            </div>
        </header>
    
        <div class="main">
            <div class="abomination">
                <article class="abomination__list">
                    <a href="#" class="abomination__list link"></a>
                    <h2 class="abomination__title">Мои работы</h2>
                </article>
                <div class="abomination__container"></div>
            </div>
        </div>
    </body>

    <script>
        // Функция для получения данных с сервера
        function fetchAbominations() {
            fetch('/get-abominations')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('abominationContainer');
                    container.innerHTML = '';  // Очистка контейнера

                    data.forEach(item => {
                        const div = document.createElement('div');
                        div.classList.add('abomination__item');
                        div.innerHTML = `
                            <h3>${item.title}</h3>
                            <p>${item.description}</p>
                        `;
                        container.appendChild(div);
                    });
                })
                .catch(error => console.error('Ошибка:', error));
        }

        // Вызов функции при загрузке страницы
        document.addEventListener('DOMContentLoaded', fetchAbominations);
    </script>


</html>